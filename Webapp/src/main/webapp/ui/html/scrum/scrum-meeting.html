<div class="flexVertical" ng-controller="scrumController" style="width: 100%; min-height: 100%;" >


	<!-- Header row -->
	<div style="width: 100%; margin-bottom: 0.5em;" ng-init="initScrum()">
		<table>
			<tr>
				<td style="background-color: #00BFFF; border-radius: 10px; font-size: 1.2em; padding: 0.2em;">
					<span>Scrum Meeting
					<i class="fa fa-arrow-right" aria-hidden="true" style="padding-right: 0.2em;"></i>
					</span>
				</td>
				<td style="padding-left: 0.5em;">
					<yk-date-field name="meetingDate" label="Meeting Date" ng-model="meetingDate"></yk-date-field>
				</td>
			</tr>
		</table>
	</div>
	
	<!-- Coversation layer -->
	<div style="width: 100%; flex-grow: 1; align-items: stretch;" class="flexHorizontal">
		<!-- For message -->
		<div style="flex-grow: 1; align-items: stretch; border-style: solid; border-color: lightblue; 
			border-width: 5px;" class="flexVertical">
			<!-- Conversation messages -->
			<div style="overflow-y:auto; flex-grow: 1; padding-right: 0.5em;">
				<table  width="100%" ng-repeat="conver in scrumConversations"> 
					<tr>
						<td>
							<table ng-repeat="newUser in conver.newUserMessage" style="margin-top: 1em;">
								<tr>
									<td style="width: 1em; padding-left: 0.5em; color: #CD5C5C; padding-right: 1.5em; white-space: nowrap; vertical-align: middle;">
										{{newUser.displayName}}
									</td>
									<td style="width: 0%;">
										<div class="arrow-left-blue"></div>
									</td>
									<td style="background-color: lightblue; width: 100%; border-radius: 5px; height: 1em; 
									padding-top: 0.3em; padding-left: 0.5em; padding-right: 0.5em; padding-bottom: 0.3em;">
										<div ng-bind-html="newUser.message | unsafe"></div>
										<span ng-if="conver.displayStory.length > 0" style="font-size: 0.8em; color: red;">{{newUser.displayStory}}</span> 
										<span style="float: right; font-size: 0.8em;">{{newUser.displayDate}} {{newUser.time}}</span>
									</td>
								</tr>
							</table>
					</tr>
				</table>
			</div>
			
			<!-- Tiny MCE -->
			<div>
				<textarea id="scrumMessageId" ng-model="scrumMessage" ng-keyup="onType($event)" class="form-control" rows="2" cols="2" 
					placeholder="Type your message here" style="height: 10em; resize: none;"></textarea>
					
				<table style="width: 100%; margin-top: 0.5em;">
					<tr>
						<td>
							<div style="background: white; border-top-left-radius: 0.5em; margin-bottom: 0.5em; margin-left: 0.5em;">
								<div class="input-group">
									<table>
										<tr>
											<td>
												<input type="text" class="form-control" aria-label="..." style="width: 15em;" readonly="readonly" 
												 placeholder="Select a story" value="{{selectedStory.title}}">
											</td>
											<td>
												<div class="input-group-btn">
													<button type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
														Story <span class="caret"></span>
													</button>
													<ul class="dropdown-menu dropdown-menu-right" ng-if="stories.length > 0">
													    <li ng-repeat="story in stories">
													    	<a ng-click="onStoryChange(story.id)" href="">
													    		{{story.title}}
													    	</a>
													    </li>
													</ul>
												</div>
											</td>
										</tr>
									</table>
								</div>
							</div>
						</td>
						<td>
							<button class="btn btn-success" ng-click="submitScrumContent()">Send</button>
						</td>
						<td>
							<button class="btn btn-danger" ng-click="closeScrumContent()">Close</button>
						</td>
					</tr>
				</table>
			</div>
		</div>
		
		<!-- For action Items -->
		<div style="border-style: solid; border-color: lightblue; border-width: 5px; width: 15em; margin-left: 1em;
		min-width: 15em;">
			Action Items
		</div>
	</div>
	
</div>
