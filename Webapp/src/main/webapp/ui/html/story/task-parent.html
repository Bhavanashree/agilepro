<div class="flexVertical" ng-controller="taskHeaderController" ng-init="initTaskheader()">
	
	<div class="flexHorizontal" style="justify-content: space-between; padding-bottom: 1em;">
	
		<!-- Start of Sprint drop down -->
		<div style="background: white;">
			<div class="input-group">
				<table>
					<tr>
						<td colspan="2" style="padding-bottom: 0.2em; font-size: 0.7em; color: brown;">
							Sprint
						</td>
					</tr>
					<tr>
						<td>
							<input type="text" class="form-control" aria-label="..." style="width: 15em;" readonly="readonly" 
							 placeholder="Please select sprint" value="{{selectedSprintObj.name}}">
						</td>
						<td>
							<div class="input-group-btn">
								<button type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
									<span class="caret"></span>
								</button>
								<ul class="dropdown-menu dropdown-menu-right" ng-if="sprints.length > 0">
								    <li ng-repeat="sprint in sprints">
								    	<a ng-click="onSprintChange(sprint.id)" href="">
								    		{{sprint.name}}
								    	</a>
								    </li>
								</ul>
							</div>
						</td>
					</tr>
				</table>
			</div>
		</div>
		<!-- End of Sprint drop down -->
		
		<!-- Start of Owner drop down -->
		<div style="background: white;">
			<div class="input-group">
				<table>
					<tr>
						<td colspan="2" style="padding-bottom: 0.2em; color: brown; font-size: 0.7em">
							Owner
						</td>
					</tr>
					<tr>
						<td>
							<input type="text" class="form-control" aria-label="..." style="width: 15em;" readonly="readonly" 
							 placeholder="Please select owner" value="{{selectedOwner.name}}">
						</td>
						<td>
							<div class="input-group-btn">
								<button type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
									<span class="caret"></span>
								</button>
								<ul class="dropdown-menu dropdown-menu-right" ng-if="employees.length > 0">
								    <li ng-repeat="employee in employees">
								    		<a ng-click="onOwnerChange(employee.id)" href="">
								    		{{employee.name}}
								    		</a>
								    	</li>
								</ul>
							</div>
						</td>
					</tr>
				</table>
			</div>
		</div>
		<!-- End of Owner drop down -->
		
		<div>
			<table>
					<tr>
						<td colspan="2" style="padding-bottom: 0.2em; font-size: 0.7em; color: brown;">
							Story Title
						</td>
					</tr>
					<tr>
						<td>
							<input type="text" ng-model="storySearch" class="form-control" placeholder="Search Story"
								style="border: 1px solid lightblue;"/>
						</td>
					</tr>
			</table>
		</div>
		
		<!-- Start of status drop down -->
		<div style="background: white;">
			<div class="input-group">
				<table>
					<tr>
						<td colspan="2" style="padding-bottom: 0.2em; color: brown; font-size: 0.7em">
							Story status
						</td>
					</tr>
					<tr>
						<td>
							<input type="text" class="form-control" aria-label="..." style="width: 15em;" readonly="readonly" 
							 placeholder="Please select status" value="{{activeStoryStatus}}">
						</td>
						<td>
							<div class="input-group-btn">
								<button type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
									<span class="caret"></span>
								</button>
								<ul class="dropdown-menu dropdown-menu-right">
								    <li ng-repeat="name in taskStatusForFilter">
								    	<a ng-click="onStatusChangeForFilter(name)" href="">
								    		{{name}}
								    	</a>
								    </li>
								</ul>
							</div>
						</td>
					</tr>
				</table>
			</div>
		</div>
		<!-- End of status drop down -->
		
	</div>
	
	
	<!--  -->
	<div class="flexHorizontal" style="width: 100%; height: 90%;">
	
		<div ng-include="'/ui/html/story/backlog-list.html'" style="width: 20%;">
		</div>
		
		<div ng-include="'/ui/html/story/task.html'" style="width: 80%;">
		</div>
		
	</div>

	
	<!-- Update task changes button -->
	<div style="margin: 0.5em;">
		<button id="updateTaskChangesBtnId" ng-click="updateTaskChanges()" class="btn btn-success" type="button" style="float: right;">
			Update
		</button>
	</div>



	<!-- Modal related -->
	
	<div id="storyNoteModal" class="modal fade" role="dialog">
		   <div role="document" class="modal-dialog modal-lg">
				<div class="modal-content">
				
					<!-- Header -->
					<div class="modal-header app-dlg-header">
						<a aria-label="Close" data-dismiss="modal" style="text-decoration: none; color: black; font-size: 0.9em; float: right; cursor: pointer;" class="yk-icon-link" data-toggle="tooltip" title="Close">
							<i class="glyphicon glyphicon-remove"></i>
						</a>
						<h4 class="modal-title">{{storyForUpdate.title}} - notes</h4>
					</div>
					
					<!-- Content -->
					<div yk-model="StoryNoteModel" class="modal-body">
							
						{{message}}
						
						<div ng-show="storyNote" ng-bind-html="storyNote.content | unsafe" 
							style="box-shadow: 1px 1px 2px #888888; padding: 0.5em; margin-bottom: 1em;
							height: 25em; overflow-y:auto;">
							
						</div>
						
						<div ng-show="storyNote" class="flexHorizontal" style="justify-content: space-between;">
								<div style="background-color: #5bc0de; color: black;
									height: 2.5em; text-align: center; padding: 0.5em; border-radius: 4px;">
									Version Title - {{storyNote.versionTitle}}
								</div>
						
								<div style="background-color: #5bc0de; color: black;
									height: 2.5em; text-align: center; padding: 0.5em; border-radius: 4px;">
									Update by - {{storyNote.owner}}
								</div>
						</div>
						
					</div>
						
					<!-- Footer -->
					<div style="padding: 0.5em 1em;" class="modal-footer">
						<button data-dismiss="modal" class="btn btn-danger cancel-button" type="button">Close</button>
					</div>
			</div>
		</div>
	</div>

	<yk-model-dialog id="taskModelDialog" name="TaskModel" title="Task" columns="2" actionMethod="updateTask()" modelObj="taskModel">
	</yk-model-dialog>
	
	<div ng-include="'/ui/html/story/story-dialog.html'"></div>

</div>